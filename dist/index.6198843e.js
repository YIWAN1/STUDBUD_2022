function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequire60da;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequire60da=i),i.register("9Gm1c",(function(e,t){e.exports='<div class="view-footer">\r\n  abc ABC\r\n\r\n  <span>${msg}</span>\r\n  {@each [1, 2] as item}\r\n  <i>${item},</i>\r\n  {@/each}\r\n  <button type="button" onclick="this.printInfo(\'${id}\')">点击执行</button>\r\n</div>\r\n'})),i.register("cExQE",(function(e,t){e.exports='<div class="box" onclick="this.hideRightMenuLayer()">\r\n  \x3c!-- Left Bar --\x3e\r\n  <div class="left">\r\n    <div class="left__Favicon">\r\n      <img src="assets/images/Favicon.png" alt="" />\r\n    </div>\r\n    <div class="left__box">\r\n      <div class="menu-item" onmouseover="this.showMenu(\'menuAdd\')" onmouseleave="this.hideMenu()">\r\n        <div class="menu-tag left__box-item Quickadd">\r\n          <img src="assets/images/Quickadd.png" alt="" />\r\n        </div>\r\n        <div id="menuAdd" class="menu-box menu-add" style="display: none">\r\n          <div class="li unpointer li-tl">Quick Add</div>\r\n          <div class="li li-item" onclick="this.onOpenAddForm(\'form1\')">\r\n            <span class="flex unpointer"><i class="mt-icon reorder"></i>Task</span>\r\n          </div>\r\n          <div class="li li-item" onclick="this.onOpenAddForm(\'form2\')">\r\n            <span class="flex unpointer"><i class="mt-icon chrome_reader_mode"></i>Reading</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="menu-item" onmouseover="this.showMenu(\'menuTimer\')" onmouseleave="this.hideMenu()">\r\n        <div class="menu-tag left__box-item Quicktimer">\r\n          <img src="assets/images/Quicktimer.png" alt="" />\r\n        </div>\r\n        <div id="menuTimer" class="menu-box menu-timer" style="display: none">\r\n          <div class="li unpointer li-tl">Quick Timer</div>\r\n          <div class="li li-item" onclick="this.startTimer()">\r\n            <span class="flex unpointer"><i class="mt-icon timer"></i>Startwatch Timer</span>\r\n          </div>\r\n          <div class="li li-item" onclick="this.addFlowTimeTracker()">\r\n            <span class="flex unpointer"><i class="mt-icon timelapse"></i>Flow Time Tracker</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="left__user">\r\n      <img src="assets/images/user.png" alt="" />\r\n    </div>\r\n  </div>\r\n\r\n  <div class="right">\r\n    \x3c!-- Top Flow Time Tracker --\x3e\r\n    <div class="right__header">\r\n      <div id="right__header__title" class="right__header__title">\r\n        {@if editTimeTracker}\r\n        <input id="timeTrackerName" type="text" class="flow-time-name"\r\n          placeholder="Please input the task name you want to track time" />\r\n        {@else} {@if !!selectTrackerItem}\r\n        <span>${selectTrackerItem.name}</span>\r\n        {@else}\r\n        <span>What are you working on?</span> {@/if} {@/if}\r\n      </div>\r\n      \x3c!-- <div id="Tracker" style="display: none;" class="right__header__title">Write down what are you going there.</div> --\x3e\r\n      <div id="trackerTimer" class="right__header__date">00:00:00</div>\r\n      {@if !selectTrackerItem}\r\n      <div class="right__header__button">\r\n        <img class="right__header__button-img" src="assets/images/InterrupSmall.png" alt="" />\r\n        {@if editTimeTracker}\r\n        <img class="right__header__button-img selected" src="assets/images/Worktime.png" alt=""\r\n          onclick="this.saveAddFlowTimeTracker()" />\r\n        {@else}\r\n        <img class="right__header__button-img" src="assets/images/Worktime.png" alt="" />\r\n        {@/if}\r\n        <img class="right__header__button-img" src="assets/images/BreaktimeSmall.png" alt="" />\r\n      </div>\r\n      {@else}\r\n      <div class="right__header__button">\r\n        <img class="right__header__button-img" src="assets/images/InterrupSmall.png" alt=""\r\n          onclick="this.editFlowTimeTracker(\'break\')" />\r\n        <img class="right__header__button-img selected" src="assets/images/Worktime.png" alt=""\r\n          onclick="this.editFlowTimeTracker(\'work\')" />\r\n        <img class="right__header__button-img" src="assets/images/BreaktimeSmall.png" alt=""\r\n          onclick="this.editFlowTimeTracker(\'rest\')" />\r\n      </div>\r\n      {@/if}\r\n    </div>\r\n\r\n    <div class="content">\r\n      <div class="content__one">\r\n        \x3c!-- Reading——Reading List Creator --\x3e\r\n        <div class="content__Reading">\r\n          <div class="content__Reading__h">\r\n            <div class="content__Reading__h__text">Reading</div>\r\n            <img src="assets/images/Add.png" onclick="this.onOpenAddForm(\'form2\')" class="content__Reading__h__Add" />\r\n            <img src="assets/images/Openlink.png" class="content__Reading__h__Openlink" />\r\n          </div>\r\n          {@each readList as item}\r\n          <div ondblclick="this.change(\'form2\',\'readList\',\'${item.id}\')"\r\n            oncontextmenu="this.onRightMenus(\'${item.id}\',\'readList\')" class="content__Reading__c">\r\n            <div class="content__Reading__c__h">\r\n              <div class="content__Reading__c__h__text">Group Name</div>\r\n              <img onclick="this.onOpenAddForm(\'form2\')" src="assets/images/Add.png"\r\n                class="content__Reading__c__h__Add" />\r\n              <a href=\'${item.readLink}\' target="_blank">\r\n                <img src="assets/images/Openlink.png" class="content__Reading__c__h__Openlink" />\r\n              </a>\r\n\r\n            </div>\r\n            <div class="content__Reading__c__box">${item.name}</div>\r\n            <div class="content__Reading__c__box">${item.readLink}</div>\r\n            <div class="content__Reading__c__box">${item.projectName}</div>\r\n          </div>\r\n          {@/each}\r\n        </div>\r\n\r\n        \x3c!-- To Do——Task List  --\x3e\r\n        <div class="content__toDo">\r\n          <div class="content__toDo__h">\r\n            <div class="content__toDo__h__text">To Do</div>\r\n            <img src="assets/images/Add.png" onclick="this.onOpenAddForm(\'form1\')" class="content__toDo__h__Add" />\r\n          </div>\r\n          {@each taskList as item}\r\n          <div oncontextmenu="this.onRightMenus(\'${item.id}\',\'taskList\')"\r\n            onmousedown="this.dblclick(\'form1\',\'taskList\',event, this, \'${item.id}\',\'ProgressListArae\')"\r\n            class="content__toDo__box">\r\n            <div class="content__toDo__box__one">\r\n              ${item.name}\r\n              {@if item.taskPriority === \'High\'}<div class="task-state mt-icon arrow_upward" style="color: #81E26F;"></div>{@/if}\r\n              {@if item.taskPriority === \'Medium\'}<div class="task-state task-priority" style="background-color: #D78822;"></div>{@/if}\r\n              {@if item.taskPriority === \'Low\'}<div class="task-state mt-icon arrow_upward" style="color: #8E0306;"></div>{@/if}\r\n            </div>\r\n            <div class="content__toDo__box__two">\r\n              <div class="content__toDo__box__two-item">\r\n                <span class="content__toDo__box__two-item__title">Est. Time:</span><span>${item.estimateTime}</span>\r\n              </div>\r\n              <div class="content__toDo__box__two-item">\r\n                <span class="content__toDo__box__two-item__title">Due Date:</span><span>${item.dueDate}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {@/each}\r\n        </div>\r\n      </div>\r\n\r\n      \x3c!-- On Progress --\x3e\r\n      <div id="ProgressListArae" class="content__two">\r\n        <div class="content__two__h">\r\n          <div class="content__two__h__text">On Progress</div>\r\n        </div>\r\n        <div class="content__twos__box">\r\n          {@each progressList as item}\r\n          <div id="card${item.id}" class="content__two__box"\r\n            onmousedown="this.dblclick(\'form1\',\'progressList\',event, this, \'${item.id}\',\'doneListArae\')"\r\n            oncontextmenu="this.onRightMenus(\'${item.id}\',\'progressList\')">\r\n            {@if selectTrackerItem && item.id == selectTrackerItem.id}\r\n            <img class="content__two__box__stop" src="assets/images/Open.png" alt=""\r\n              onclick="this.cancelSelectTracker()" />\r\n            {@else}\r\n            <img class="content__two__box__stop" src="assets/images/Stop.png" alt=""\r\n              onclick="this.editTrackerItem(\'${item.id}\')" />\r\n            {@/if}\r\n            <div class="content__two__boxs__title">\r\n              ${item.name}\r\n              {@if item.taskPriority === \'High\'}<div class="task-state mt-icon arrow_upward" style="color: #81E26F;"></div>{@/if}\r\n              {@if item.taskPriority === \'Medium\'}<div class="task-state task-priority" style="background-color: #D78822;"></div>{@/if}\r\n              {@if item.taskPriority === \'Low\'}<div class="task-state mt-icon arrow_upward" style="color: #8E0306;"></div>{@/if}\r\n            </div>\r\n            <div class="content__two__boxs">\r\n              <div class="content__two__boxs-item">\r\n                <span class="content__two__boxs-item__title">Est. Time:</span><span\r\n                  class="content__two__boxs-item__value">${item|flowEstTime}</span>\r\n              </div>\r\n              <div class="content__two__boxs-item">\r\n                <span class="content__two__boxs-item__title">Due Date:</span><span\r\n                  class="content__two__boxs-item__value">${item|flowDueDate}</span>\r\n              </div>\r\n              {@each item.trackers as tracker}\r\n              <div class="content__two__boxs-item">\r\n                <div class="content__two__boxs-items">\r\n                  <img src="assets/images/Range.png" alt="" />\r\n                  ${tracker|flowDucation}\r\n                </div>\r\n                <div class="content__two__boxs-items">\r\n                  <img src="assets/images/WorktimeSmall.png" alt="" />\r\n                  ${tracker|flowItemWorkTime}\r\n                </div>\r\n                <div class="content__two__boxs-items">\r\n                  <img src="assets/images/BreaktimeSmall.png" alt="" />\r\n                  ${tracker|flowItemRestTime}\r\n                </div>\r\n                <div class="content__two__boxs-items">\r\n                  <img src="assets/images/InterrupSmall.png" alt="" />\r\n                  <span class="content__two__boxs-items__yes">\r\n                    {@if tracker.break} yes {@else} <span class="content__two__boxs-items__no">no </span>{@/if}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              {@/each}\r\n            </div>\r\n          </div>\r\n          {@/each}\r\n        </div>\r\n      </div>\r\n\r\n      \x3c!-- Done--\x3e\r\n      <div id="doneListArae" class="content__two content__three">\r\n        <div class="content__three__h">\r\n          <div class="content__three__h__text">Done</div>\r\n        </div>\r\n        <div class="content__twos__box">\r\n          {@each doneList as item}\r\n          <div class="content__two__box"\r\n            onmousedown="this.dblclick(\'form1\',\'doneList\',event, this, \'${item.id}\',\'doneListArae\')"\r\n            oncontextmenu="this.onRightMenus(\'${item.id}\',\'doneList\')">\r\n            {@if selectTrackerItem && item.id == selectTrackerItem.id}\r\n            <img class="content__two__box__stop" src="assets/images/Open.png" alt=""\r\n              onclick="this.cancelSelectTracker()" />\r\n            {@else}\r\n            <img class="content__two__box__stop" src="assets/images/Stop.png" alt=""\r\n              onclick="this.editTrackerItem(\'${item.id}\')" />\r\n            {@/if}\r\n            <div class="content__two__boxs__title">\r\n              ${item.name}\r\n              {@if item.taskPriority === \'High\'}<div class="task-state mt-icon arrow_upward" style="color: #81E26F;"></div>{@/if}\r\n              {@if item.taskPriority === \'Medium\'}<div class="task-state task-priority" style="background-color: #D78822;"></div>{@/if}\r\n              {@if item.taskPriority === \'Low\'}<div class="task-state mt-icon arrow_upward" style="color: #8E0306;"></div>{@/if}\r\n            </div>\r\n            <div class="content__two__boxs">\r\n              <div class="content__two__boxs-item">\r\n                <span class="content__two__boxs-item__title">Est. Time:</span><span\r\n                  class="content__two__boxs-item__value">${item|flowEstTime}</span>\r\n              </div>\r\n              <div class="content__two__boxs-item">\r\n                <span class="content__two__boxs-item__title">Due Date:</span><span\r\n                  class="content__two__boxs-item__value">${item|flowDueDate}</span>\r\n              </div>\r\n              {@each item.trackers as tracker}\r\n              <div class="content__two__boxs-item">\r\n                <div class="content__two__boxs-items">\r\n                  <img src="assets/images/Range.png" alt="" />\r\n                  ${tracker|flowDucation}\r\n                </div>\r\n                <div class="content__two__boxs-items">\r\n                  <img src="assets/images/WorktimeSmall.png" alt="" />\r\n                  ${tracker|flowItemWorkTime}\r\n                </div>\r\n                <div class="content__two__boxs-items">\r\n                  <img src="assets/images/BreaktimeSmall.png" alt="" />\r\n                  ${tracker|flowItemRestTime}\r\n                </div>\r\n                <div class="content__two__boxs-items">\r\n                  <img src="assets/images/InterrupSmall.png" alt="" />\r\n                  <span class="content__two__boxs-items__yes">yes</span>\r\n                </div>\r\n              </div>\r\n              {@/each}\r\n            </div>\r\n          </div>\r\n          {@/each}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="footer">\r\n      \x3c!--  Stopwatch Timer > --\x3e\r\n      <div class="footer__console">\r\n        <div id="footer__console__time" class="footer__console__time">\r\n          00:00:00\r\n        </div>\r\n        <div class="footer__console__b">\r\n          <img class="footer__console__b__start" style="display: none;"  id="timeCountPause" src="assets/images/Start.png" alt=""\r\n            onclick="this.timeCountPause()" />\r\n          <img class="footer__console__b__start" id="timeCountRun" src="assets/images/Next.png" alt="" />\r\n          <img id="footer__console__b__stop" class="footer__console__b__open" style="display: none"\r\n            src="assets/images/Open.png" alt="" onclick="this.stopTimer()" />\r\n          <img id="footer__console__b__open" class="footer__console__b__open" src="assets/images/Stop.png" alt=""\r\n            onclick="this.startTimer()" />\r\n          <img class="footer__console__b__Return" src="assets/images/return.png" alt="" onclick="this.resetTimer()" />\r\n        </div>\r\n      </div>\r\n\r\n      \x3c!-- Music Player > --\x3e\r\n      <div style="display: none">\r\n        <audio id="myaudio" controls="" ontimeupdate="this.updateProgress(this)"\r\n          src="../assets/mp3/Joji-BENEE-Afterthought(1).mp3"></audio>\r\n      </div>\r\n      <div class="footer__display">\r\n        <img src="assets/images/Song.png" class="footer__display__photo" />\r\n        <div class="footer__display__info">\r\n          <div class="footer__display__info__title">Aferthought</div>\r\n          <div class="footer__display__info__singer">Joji</div>\r\n        </div>\r\n        <div class="footer__display__center">\r\n          <div class="footer__display__center__cons">\r\n            <img src="assets/images/Last.png" alt="" />\r\n            <img src="assets/images/Play.png" id="stop" style="display: none" onclick="this.closePlay()" alt="" />\r\n            <img src="assets/images/Stop.png" id="play" onclick="this.play()" alt="" />\r\n            <img src="assets/images/Next.png" alt="" />\r\n          </div>\r\n          <div class="footer__display__center__progressbar">\r\n            <span id="audioCurTime">00:00</span>\r\n            <span class="lone">\r\n              <span class="cur" id="audioCur"></span>\r\n            </span>\r\n            <span id="audioTotalTime">00:09</span>\r\n          </div>\r\n        </div>\r\n        <div class="footer__display__right">\r\n          <img src="assets/images/Order.png" alt="" />\r\n          <img src="assets/images/Playlist.png" alt="" />\r\n          <img src="assets/images/Volume.png" alt="" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div id="form1" class="form-box wh100" style="display: none">\r\n  <div class="flex wh100">\r\n    <div class="flex-1 h100" onclick="this.onCancel()"></div>\r\n    <div class="form-panel">\r\n      <div class="form-title flex"><span>Add Task</span> <span class="close" onclick="this.onCancel()">x</span></div>\r\n      <div class="form-item">\r\n        <label>Task name</label>\r\n        <input value="${form1.name}" placeholder="Please input"\r\n          oninput="this.setFormValue(\'form1\', \'name\', this.value)" />\r\n      </div>\r\n      <div class="form-item">\r\n        <label>Due date</label>\r\n        <input value="${form1.dueDate}" placeholder="Please input" type="date"\r\n          oninput="this.setFormValue(\'form1\', \'dueDate\', this.value)" />\r\n      </div>\r\n      <div class="flex">\r\n        <div class="form-item">\r\n          <label>Task priority</label>\r\n          <select onclick="this.setFormValue(\'form1\', \'taskPriority\', this.value)" name="" id="">\r\n\r\n            <option disabled selected hidden></option>\r\n            {@if form1.taskPriority == \'Low\' }\r\n            <option selected style="background-color: #8E0306; color: #fff; font-weight: bold;" value="Low">\r\n              Low\r\n            </option>\r\n            {@else} <option style="background-color: #8E0306; color: #fff;" value="Low">\r\n              Low\r\n            </option> {@/if}\r\n            {@if form1.taskPriority == \'Medium\'} <option selected style="background-color: #D78822; color: #fff; font-weight: bold;" value="Medium">\r\n              Medium\r\n            </option> {@else} <option style="background-color: #D78822; color: #fff;" value="Medium">\r\n              Medium\r\n            </option> {@/if} {@if form1.taskPriority == \'High\'}\r\n            <option selected style="background-color: #81E26F; color: #fff; font-weight: bold;" value="High">\r\n              High\r\n            </option> {@else}\r\n            <option style="background-color: #81E26F; color: #fff;" value="High">\r\n              High\r\n            </option> {@/if}\r\n          </select>\r\n        </div>\r\n        <div class="form-item">\r\n          <label>Estimated time(in mins)</label>\r\n          <input type="number" min="0" value="${form1.estimateTime}" placeholder="Estimated time(in mins)"\r\n            type="datetime" oninput="this.setFormValue(\'form1\', \'estimateTime\', this.value)" />\r\n        </div>\r\n      </div>\r\n      <div class="form-btns">\r\n        \x3c!-- <button type="button" class="outline me-4" onclick="this.onCancel()">\r\n          Cancel\r\n        </button>\r\n        <button type="button" onclick="this.onAddSave(\'form1\')">Save</button> --\x3e\r\n        <div onclick="this.onAddSave(\'form1\')" class="Save">Save</div>\r\n        <div onclick="this.onCancel()" class="outline"> Cancel</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div id="form2" class="form-box wh100 flex" style="display: none">\r\n  <div class="flex wh100">\r\n    <div class="flex-1 h100" onclick="this.onCancel()"></div>\r\n    <div class="form-panel">\r\n      <div class="form-title flex">\r\n        <span>Add Reading</span> <span class="close" onclick="this.onCancel()">x</span>\r\n      </div>\r\n      <div class="form-item">\r\n        <label>Name the reading</label>\r\n        <input value="${form2.name}" placeholder="Please input"\r\n          oninput="this.setFormValue(\'form2\', \'name\', this.value)" />\r\n      </div>\r\n      <div class="form-item">\r\n        <label>Read link</label>\r\n        <input value="${form2.readLink}" placeholder="Please input"\r\n          oninput="this.setFormValue(\'form2\', \'readLink\', this.value)" />\r\n      </div>\r\n      <div class="form-item">\r\n        <label>Project name</label>\r\n        <input value="${form2.projectName}" placeholder="Please input"\r\n          oninput="this.setFormValue(\'form2\', \'projectName\', this.value)" />\r\n      </div>\r\n      <div class="form-btns">\r\n        <div onclick="this.onAddSave(\'form2\')" class="Save">Save</div>\r\n        <div onclick="this.onCancel()" class="outline"> Cancel</div>\r\n        \x3c!-- <button type="button" class="outline me-4" onclick="this.onCancel()">\r\n          Cancel\r\n        </button>\r\n        <button type="button" onclick="this.onAddSave(\'form2\')">Save</button> --\x3e\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<ul id="menus">\r\n  <li id="menusDelete" onclick="this.onMenusDelete(event)">Delete</li>\r\n</ul>'}));class o{_val={};_org={};_me=null;_tmr=0;constructor(e){this._me=e}onlySet(e){if(e)for(var t in e)this._val[t]=e[t]}_render(){this._me&&this._me.viewRender&&(this._tmr&&clearTimeout(this._tmr),this._tmr=setTimeout((()=>{this._me.viewRender()}),10))}_clone(e){return JSON.parse(JSON.stringify(e))}init(e){if(this.onlySet(e),this._org=this._clone(this._val),this._me&&this._me.components&&this._me.components.length>0)for(const e of this._me.components)e.init&&e.init()}set(e){this.onlySet(e),this._render()}get(){return arguments.length>0&&arguments[0]?arguments.length>1&&void 0===this._val[arguments[0]]?arguments[1]:this._clone(this._val[arguments[0]]):this._clone(this._val)}clear(){this._val=this._clone(this._org),this._render()}onlyReset(e){e&&void 0!==this._org[e]&&(this._val[e]=this._org[e])}reset(e){tshi.onlyReset(e),this._render()}}var s=1;const a=e=>window.observeObjects[e]?window.observeObjects[e]:{},c=e=>{e&&(e.__objectId=s++,window.observeObjects[e.__objectId]=e)},l=(e,t,n,r)=>{if(!e||!e.__objectId)return;const i=n.render(r);if(!i)return void console.log("template parse error in .shtml file");const o=i.replace(/this\.value/gi,"__THIS__VALUE").replace(/this\./gi,"window.observeRun("+e.__objectId+").").replace(/__THIS__VALUE/gi,"this.value"),s=document.getElementById(t);if(s&&(s.innerHTML=o),e.components&&e.components.length>0)for(const t of e.components)t.viewRender&&t.viewRender()};var d={};!function(){var e=function(){var t=[].slice.call(arguments);return t.push(e.options),t[0].match(/^\s*#([\w:\-\.]+)\s*$/gim)&&t[0].replace(/^\s*#([\w:\-\.]+)\s*$/gim,(function(e,n){var r=document,i=r&&r.getElementById(n);t[0]=i?i.value||i.innerHTML:e})),e.documentHTML&&(e.compile.call(e,e.documentHTML),e.documentHTML=""),1==arguments.length?e.compile.apply(e,t):arguments.length>=2?e.to_html.apply(e,t):void 0},n={escapehash:{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2f;"},escapereplace:function(e){return n.escapehash[e]},escaping:function(e){return"string"!=typeof e?e:e.replace(/[&<>"']/gim,this.escapereplace)},detection:function(e){return void 0===e?"":e}},r=function(e){if("undefined"!=typeof console){if(console.warn)return void console.warn(e);if(console.log)return void console.log(e)}throw e},i=function(e,t){if((e=e!==Object(e)?{}:e).__proto__)return e.__proto__=t,e;var n=function(){},r=Object.create?Object.create(t):new(n.prototype=t,n);for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);return r};e.__cache={},e.version="0.6.15",e.settings={},e.documentHTML="",e.tags={operationOpen:"{@",operationClose:"}",interpolateOpen:"\\${",interpolateClose:"}",noneencodeOpen:"\\$\\${",noneencodeClose:"}",commentOpen:"\\{#",commentClose:"\\}"},e.options={cache:!0,strip:!0,errorhandling:!0,detection:!0,_method:i({__escapehtml:n,__throw:r,__juicer:e},{})},e.tagInit=function(){var t=e.tags.operationOpen+"each\\s*([^}]*?)\\s*as\\s*(\\w*?)\\s*(,\\s*\\w*?)?"+e.tags.operationClose,n=e.tags.operationOpen+"\\/each"+e.tags.operationClose,r=e.tags.operationOpen+"if\\s*([^}]*?)"+e.tags.operationClose,i=e.tags.operationOpen+"\\/if"+e.tags.operationClose,o=e.tags.operationOpen+"else"+e.tags.operationClose,s=e.tags.operationOpen+"else if\\s*([^}]*?)"+e.tags.operationClose,a=e.tags.interpolateOpen+"([\\s\\S]+?)"+e.tags.interpolateClose,c=e.tags.noneencodeOpen+"([\\s\\S]+?)"+e.tags.noneencodeClose,l=e.tags.commentOpen+"[^}]*?"+e.tags.commentClose,d=e.tags.operationOpen+"each\\s*(\\w*?)\\s*in\\s*range\\(([^}]+?)\\s*,\\s*([^}]+?)\\)"+e.tags.operationClose,u=e.tags.operationOpen+"include\\s*([^}]*?)\\s*,\\s*([^}]*?)"+e.tags.operationClose,f=e.tags.operationOpen+"helper\\s*([^}]*?)\\s*"+e.tags.operationClose,m=e.tags.operationOpen+"\\/helper"+e.tags.operationClose;e.settings.forstart=new RegExp(t,"igm"),e.settings.forend=new RegExp(n,"igm"),e.settings.ifstart=new RegExp(r,"igm"),e.settings.ifend=new RegExp(i,"igm"),e.settings.elsestart=new RegExp(o,"igm"),e.settings.elseifstart=new RegExp(s,"igm"),e.settings.interpolate=new RegExp(a,"igm"),e.settings.noneencode=new RegExp(c,"igm"),e.settings.inlinecomment=new RegExp(l,"igm"),e.settings.rangestart=new RegExp(d,"igm"),e.settings.include=new RegExp(u,"igm"),e.settings.helperRegister=new RegExp(f+"([\\s\\S]*?)"+m,"igm")},e.tagInit(),e.set=function(e,t){var n=this,r=function(e){return e.replace(/[\$\(\)\[\]\+\^\{\}\?\*\|\.]/gim,(function(e){return"\\"+e}))},i=function(e,t){var i=e.match(/^tag::(.*)$/i);if(i)return n.tags[i[1]]=r(t),void n.tagInit();n.options[e]=t};if(2!==arguments.length){if(e===Object(e))for(var o in e)e.hasOwnProperty(o)&&i(o,e[o])}else i(e,t)},e.register=function(e,t){var n=this.options._method;return!n.hasOwnProperty(e)&&(n[e]=t)},e.unregister=function(e){var t=this.options._method;if(t.hasOwnProperty(e))return delete t[e]},e.template=function(n){var r=this;this.options=n,this.__interpolate=function(e,t,n){var r,i=e.split("|"),o=i[0]||"";return i.length>1&&(e=i.shift(),o="_method."+(r=i.shift().split(",")).shift()+".call(this, "+[e].concat(r)+")"),"<%= "+(t?"_method.__escapehtml.escaping":"")+"("+(n&&!1===n.detection?"":"_method.__escapehtml.detection")+"("+o+")) %>"},this.__removeShell=function(t,n){var i=0;return t=t.replace(e.settings.helperRegister,(function(t,n,r){var i=function(e){var t,n,r,i=/,/,o=/^\s*(_?)(\S+?)\1\s*$/,s=[];"function"==typeof e?e.length&&(t=e.toString()):"string"==typeof e&&(t=e),r=(t=t.trim()).match(/^function\s*[^\(]*\(\s*([^\)]*)\)/m),n=t.match(/^function[^{]+{([\s\S]*)}/m)[1].trim();for(var a=0;a<r[1].split(i).length;a++)r[1].split(i)[a].replace(o,(function(e,t,n){s.push(n)}));return[s,n]}(r),o=i[0],s=i[1],a=new Function(o.join(","),s);return e.register(n,a),t})).replace(e.settings.forstart,(function(e,t,n,r){n=n||"value",r=r&&r.substr(1);var o="i"+i++;return"<% ~function() {for(var "+o+" in "+t+") {if("+t+".hasOwnProperty("+o+")) {var "+n+"="+t+"["+o+"];"+(r?"var "+r+"="+o+";":"")+" %>"})).replace(e.settings.forend,"<% }}}(); %>").replace(e.settings.ifstart,(function(e,t){return"<% if("+t+") { %>"})).replace(e.settings.ifend,"<% } %>").replace(e.settings.elsestart,(function(e){return"<% } else { %>"})).replace(e.settings.elseifstart,(function(e,t){return"<% } else if("+t+") { %>"})).replace(e.settings.noneencode,(function(e,t){return r.__interpolate(t,!1,n)})).replace(e.settings.interpolate,(function(e,t){return r.__interpolate(t,!0,n)})).replace(e.settings.inlinecomment,"").replace(e.settings.rangestart,(function(e,t,n,r){var o="j"+i++;return"<% ~function() {for(var "+o+"="+n+";"+o+"<"+r+";"+o+"++) {{var "+t+"="+o+"; %>"})).replace(e.settings.include,(function(e,t,n){return t.match(/^file\:\/\//gim)?e:"<%= _method.__juicer("+t+", "+n+"); %>"})),n&&!1===n.errorhandling||(t="<% try { %>"+t,t+='<% } catch(e) {_method.__throw("Juicer Render Exception: "+e.message);} %>'),t},this.__toNative=function(e,t){return this.__convert(e,!t||t.strip)},this.__lexicalAnalyze=function(n){var r=[],i=[],o="",s=["if","each","_","_method","console","break","case","catch","continue","debugger","default","delete","do","finally","for","function","in","instanceof","new","return","switch","this","throw","try","typeof","var","void","while","with","null","typeof","class","enum","export","extends","import","super","implements","interface","let","package","private","protected","public","static","yield","const","arguments","true","false","undefined","NaN"],a=function(e,t){if(Array.prototype.indexOf&&e.indexOf===Array.prototype.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},c=function(n,o){if(o=o.match(/\w+/gim)[0],-1===a(r,o)&&-1===a(s,o)&&-1===a(i,o)){if("undefined"!=typeof window&&"function"==typeof window[o]&&window[o].toString().match(/^\s*?function \w+\(\) \{\s*?\[native code\]\s*?\}\s*?$/i))return n;if(void 0!==t&&"function"==typeof t[o]&&t[o].toString().match(/^\s*?function \w+\(\) \{\s*?\[native code\]\s*?\}\s*?$/i))return n;if("function"==typeof e.options._method[o]||e.options._method.hasOwnProperty(o))return i.push(o),n;if(o.match(/^\d+/gim))return n;r.push(o)}return n};n.replace(e.settings.forstart,c).replace(e.settings.interpolate,c).replace(e.settings.ifstart,c).replace(e.settings.elseifstart,c).replace(e.settings.include,c).replace(/[\+\-\*\/%!\?\|\^&~<>=,\(\)\[\]]\s*([A-Za-z_0-9]+)/gim,c);for(var l=0;l<r.length;l++)o+="var "+r[l]+"=_."+r[l]+";";for(l=0;l<i.length;l++)o+="var "+i[l]+"=_method."+i[l]+";";return"<% "+o+" %>"},this.__convert=function(e,t){var n=[].join("");return n+="'use strict';",n+="var _=_||{};",n+="var _out='';_out+='",n+=!1!==t?e.replace(/\\/g,"\\\\").replace(/[\r\t\n]/g," ").replace(/'(?=[^%]*%>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<%=(.+?)%>/g,"';_out+=$1;_out+='").split("<%").join("';").split("%>").join("_out+='")+"';return _out;":e.replace(/\\/g,"\\\\").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t").replace(/[\n]/g,"\\n").replace(/'(?=[^%]*%>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<%=(.+?)%>/g,"';_out+=$1;_out+='").split("<%").join("';").split("%>").join("_out+='")+"';return _out.replace(/[\\r\\n]\\s+[\\r\\n]/g, '\\r\\n');"},this.parse=function(e,t){var n=this;return t&&!1===t.loose||(e=this.__lexicalAnalyze(e)+e),e=this.__removeShell(e,t),e=this.__toNative(e,t),this._render=new Function("_, _method",e),this.render=function(e,t){return t&&t===r.options._method||(t=i(t,r.options._method)),n._render.call(this,e,t)},this}},e.compile=function(e,t){t&&t===this.options||(t=i(t,this.options));var n=this,o=function(e){return t.cachestore?t.cachestore.get(e):n.__cache[e]},s=function(e,r){return t.cachestore?t.cachestore.set(e,r):n.__cache[e]=r};try{var a=o(e)?o(e):new this.template(this.options).parse(e,t);return t&&!1===t.cache||s(e,a),a}catch(e){return r("Juicer Compile Exception: "+e.message),{render:function(){}}}},e.to_html=function(e,t,n){return n&&n===this.options||(n=i(n,this.options)),this.compile(e,n).render(t,n._method)},void 0!==t&&"undefined"==typeof window&&e.set("cache",!1),"undefined"!=typeof document&&document.body&&(e.documentHTML=document.body.innerHTML),"undefined"!=typeof module&&d?d=e:this.juicer=e}();const u=e(d)(i("9Gm1c"));class f{components=[];data={};containerId="";constructor(e){this.data=new o(this),this.containerId=e,c(this)}init(){this.data.init({msg:"--",id:"856"}),console.log("footer init")}viewRender(){this.containerId&&l(this,this.containerId,u,this.data.get())}printInfo(e){console.log("v",e)}}var m={};
/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/m=function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var c=void 0;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[s]={exports:{}};t[s][0].call(d.exports,(function(e){var n=t[s][1][e];return i(n||e)}),d,d.exports,e,t,n,r)}return n[s].exports}for(var o=void 0,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,n,r){(function(e){var t,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,s=new i(d),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),t=function(){a.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)t="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){d(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(d,0)};else{var c=new e.MessageChannel;c.port1.onmessage=d,t=function(){c.port2.postMessage(0)}}var l=[];function d(){var e,t;r=!0;for(var n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}r=!1}function u(e){1!==l.push(e)||r||t()}n.exports=u}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){var r=e(1);function i(){}var o={},s=["REJECTED"],a=["FULFILLED"],c=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==i&&m(this,e)}function d(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(e,t,n){r((function(){var r;try{r=t(n)}catch(t){return o.reject(e,t)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function m(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}function s(){t(i,r)}var a=h(s);"error"===a.status&&r(a.value)}function h(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function _(e){return e instanceof this?e:o.resolve(new this(i),e)}function p(e){var t=new this(i);return o.reject(t,e)}function v(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,c=-1,l=new this(i);++c<n;)d(e[c],c);return l;function d(e,i){function c(e){s[i]=e,++a!==n||r||(r=!0,o.resolve(l,s))}t.resolve(e).then(c,(function(e){r||(r=!0,o.reject(l,e))}))}}function g(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var s=-1,a=new this(i);++s<n;)c(e[s]);return a;function c(e){t.resolve(e).then((function(e){r||(r=!0,o.resolve(a,e))}),(function(e){r||(r=!0,o.reject(a,e))}))}}t.exports=l,l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(i);return this.state!==c?u(n,this.state===a?e:t,this.outcome):this.queue.push(new d(n,e,t)),n},d.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){o.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=h(f,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)m(e,r);else{e.state=a,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},l.resolve=_,l.reject=p,l.all=v,l.race=g},{1:1}],3:[function(e,n,r){(function(t){"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}var s=o();function a(){try{if(!s||!s.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}function c(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var l=Promise;function d(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function u(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function f(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function m(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",_=void 0,p={},v=Object.prototype.toString,g="readonly",y="readwrite";function b(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function w(e){return new l((function(t){var n=e.transaction(h,y),r=c([""]);n.objectStore(h).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}function k(e){return"boolean"==typeof _?l.resolve(_):w(e).then((function(e){return _=e}))}function I(e){var t=p[e.name],n={};n.promise=new l((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function T(e){var t=p[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function x(e,t){var n=p[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function E(e,t){return new l((function(n,r){if(p[e.name]=p[e.name]||M(),e.db){if(!t)return n(e.db);I(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var o=s.open.apply(s,i);t&&(o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(h)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),o.onerror=function(e){e.preventDefault(),r(o.error)},o.onsuccess=function(){var t=o.result;t.onversionchange=function(e){e.target.close()},n(t),T(e)}}))}function S(e){return E(e,!1)}function R(e){return E(e,!0)}function L(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function A(e){return new l((function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)}))}function O(e){return c([b(atob(e.data))],{type:e.type})}function D(e){return e&&e.__local_forage_encoded_blob}function C(e){var t=this,n=t._initReady().then((function(){var e=p[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return u(n,e,e),n}function j(e){I(e);for(var t=p[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,S(e).then((function(t){return e.db=t,L(e)?R(e):t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(t){throw x(e,t),t}))}function N(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return l.resolve().then((function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),R(e)})).then((function(){return j(e).then((function(){N(e,t,n,r-1)}))})).catch(n);n(i)}}function M(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function B(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=p[n.name];i||(i=M(),p[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=C);var o=[];function s(){return l.resolve()}for(var a=0;a<i.forages.length;a++){var c=i.forages[a];c!==t&&o.push(c._initReady().catch(s))}var d=i.forages.slice(0);return l.all(o).then((function(){return n.db=i.db,S(n)})).then((function(e){return n.db=e,L(n,t._defaultConfig.version)?R(n):e})).then((function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<d.length;r++){var o=d[r];o!==t&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))}function P(e,t){var n=this;e=f(e);var r=new l((function(t,r){n.ready().then((function(){N(n._dbInfo,g,(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).get(e);s.onsuccess=function(){var e=s.result;void 0===e&&(e=null),D(e)&&(e=O(e)),t(e)},s.onerror=function(){r(s.error)}}catch(e){r(e)}}))})).catch(r)}));return d(r,t),r}function F(e,t){var n=this,r=new l((function(t,r){n.ready().then((function(){N(n._dbInfo,g,(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).openCursor(),a=1;s.onsuccess=function(){var n=s.result;if(n){var r=n.value;D(r)&&(r=O(r));var i=e(r,n.key,a++);void 0!==i?t(i):n.continue()}else t()},s.onerror=function(){r(s.error)}}catch(e){r(e)}}))})).catch(r)}));return d(r,t),r}function $(e,t,n){var r=this;e=f(e);var i=new l((function(n,i){var o;r.ready().then((function(){return o=r._dbInfo,"[object Blob]"===v.call(t)?k(o.db).then((function(e){return e?t:A(t)})):t})).then((function(t){N(r._dbInfo,y,(function(o,s){if(o)return i(o);try{var a=s.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var c=a.put(t,e);s.oncomplete=function(){void 0===t&&(t=null),n(t)},s.onabort=s.onerror=function(){var e=c.error?c.error:c.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return d(i,n),i}function U(e,t){var n=this;e=f(e);var r=new l((function(t,r){n.ready().then((function(){N(n._dbInfo,y,(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(s.error)},o.onabort=function(){var e=s.error?s.error:s.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return d(r,t),r}function H(e){var t=this,n=new l((function(e,n){t.ready().then((function(){N(t._dbInfo,y,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return d(n,e),n}function W(e){var t=this,n=new l((function(e,n){t.ready().then((function(){N(t._dbInfo,g,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return d(n,e),n}function z(e,t){var n=this,r=new l((function(t,r){e<0?t(null):n.ready().then((function(){N(n._dbInfo,g,(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName),a=!1,c=s.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===e||a?t(n.key):(a=!0,n.advance(e)):t(null)},c.onerror=function(){r(c.error)}}catch(e){r(e)}}))})).catch(r)}));return d(r,t),r}function q(e){var t=this,n=new l((function(e,n){t.ready().then((function(){N(t._dbInfo,g,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openKeyCursor(),s=[];o.onsuccess=function(){var t=o.result;t?(s.push(t.key),t.continue()):e(s)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return d(n,e),n}function V(e,t){t=m.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;if(e.name){var o=e.name===n.name&&i._dbInfo.db?l.resolve(i._dbInfo.db):S(e).then((function(t){var n=p[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t}));r=e.storeName?o.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;I(e);var r=p[e.name],i=r.forages;t.close();for(var o=0;o<i.length;o++){var a=i[o];a._dbInfo.db=null,a._dbInfo.version=n}return new l((function(t,r){var i=s.open(e.name,n);i.onerror=function(e){i.result.close(),r(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}})).then((function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e,T(n._dbInfo)}})).catch((function(t){throw(x(e,t)||l.resolve()).catch((function(){})),t}))}})):o.then((function(t){I(e);var n=p[e.name],r=n.forages;t.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;return new l((function(t,n){var r=s.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}})).then((function(e){n.db=e;for(var t=0;t<r.length;t++)T(r[t]._dbInfo)})).catch((function(t){throw(x(e,t)||l.resolve()).catch((function(){})),t}))}))}else r=l.reject("Invalid arguments");return d(r,t),r}var Q={_driver:"asyncStorage",_initStorage:B,_support:a(),iterate:F,getItem:P,setItem:$,removeItem:U,clear:H,length:W,key:z,keys:q,dropInstance:V};function G(){return"function"==typeof openDatabase}var J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X="~~local_forage_type~",Y=/^~~local_forage_type~([^~]+)~/,K="__lfsc__:",Z=K.length,ee="arbf",te="blob",ne="si08",re="ui08",ie="uic8",oe="si16",se="si32",ae="ur16",ce="ui32",le="fl32",de="fl64",ue=Z+ee.length,fe=Object.prototype.toString;function me(e){var t,n,r,i,o,s=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),d=new Uint8Array(l);for(t=0;t<a;t+=4)n=J.indexOf(e[t]),r=J.indexOf(e[t+1]),i=J.indexOf(e[t+2]),o=J.indexOf(e[t+3]),d[c++]=n<<2|r>>4,d[c++]=(15&r)<<4|i>>2,d[c++]=(3&i)<<6|63&o;return l}function he(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=J[n[t]>>2],r+=J[(3&n[t])<<4|n[t+1]>>4],r+=J[(15&n[t+1])<<2|n[t+2]>>6],r+=J[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function _e(e,t){var n="";if(e&&(n=fe.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===fe.call(e.buffer))){var r,i=K;e instanceof ArrayBuffer?(r=e,i+=ee):(r=e.buffer,"[object Int8Array]"===n?i+=ne:"[object Uint8Array]"===n?i+=re:"[object Uint8ClampedArray]"===n?i+=ie:"[object Int16Array]"===n?i+=oe:"[object Uint16Array]"===n?i+=ae:"[object Int32Array]"===n?i+=se:"[object Uint32Array]"===n?i+=ce:"[object Float32Array]"===n?i+=le:"[object Float64Array]"===n?i+=de:t(new Error("Failed to get type for BinaryArray"))),t(i+he(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n=X+e.type+"~"+he(this.result);t(K+te+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}}function pe(e){if(e.substring(0,Z)!==K)return JSON.parse(e);var t,n=e.substring(ue),r=e.substring(Z,ue);if(r===te&&Y.test(n)){var i=n.match(Y);t=i[1],n=n.substring(i[0].length)}var o=me(n);switch(r){case ee:return o;case te:return c([o],{type:t});case ne:return new Int8Array(o);case re:return new Uint8Array(o);case ie:return new Uint8ClampedArray(o);case oe:return new Int16Array(o);case ae:return new Uint16Array(o);case se:return new Int32Array(o);case ce:return new Uint32Array(o);case le:return new Float32Array(o);case de:return new Float64Array(o);default:throw new Error("Unkown type: "+r)}}var ve={serialize:_e,deserialize:pe,stringToBuffer:me,bufferToString:he};function ge(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function ye(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new l((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(i){ge(i,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=ve,i}function be(e,t,n,r,i,o){e.executeSql(n,r,i,(function(e,s){s.code===s.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,a){a.rows.length?o(e,s):ge(e,t,(function(){e.executeSql(n,r,i,o)}),o)}),o):o(e,s)}),o)}function we(e,t){var n=this;e=f(e);var r=new l((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){be(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return d(r,t),r}function ke(e,t){var n=this,r=new l((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){be(n,i,"SELECT * FROM "+i.storeName,[],(function(n,r){for(var o=r.rows,s=o.length,a=0;a<s;a++){var c=o.item(a),l=c.value;if(l&&(l=i.serializer.deserialize(l)),void 0!==(l=e(l,c.key,a+1)))return void t(l)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return d(r,t),r}function Ie(e,t,n,r){var i=this;e=f(e);var o=new l((function(o,s){i.ready().then((function(){void 0===t&&(t=null);var a=t,c=i._dbInfo;c.serializer.serialize(t,(function(t,l){l?s(l):c.db.transaction((function(n){be(n,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){o(a)}),(function(e,t){s(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void o(Ie.apply(i,[e,a,n,r-1]));s(t)}}))}))})).catch(s)}));return d(o,n),o}function Te(e,t,n){return Ie.apply(this,[e,t,n,1])}function xe(e,t){var n=this;e=f(e);var r=new l((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){be(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return d(r,t),r}function Ee(e){var t=this,n=new l((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){be(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return d(n,e),n}function Se(e){var t=this,n=new l((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){be(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return d(n,e),n}function Re(e,t){var n=this,r=new l((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){be(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return d(r,t),r}function Le(e){var t=this,n=new l((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){be(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return d(n,e),n}function Ae(e){return new l((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}function Oe(e,t){t=m.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return d(r=e.name?new l((function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(Ae(r))})).then((function(e){return new l((function(t,n){e.db.transaction((function(r){function i(e){return new l((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var o=[],s=0,a=e.storeNames.length;s<a;s++)o.push(i(e.storeNames[s]));l.all(o).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):l.reject("Invalid arguments"),t),r}var De={_driver:"webSQLStorage",_initStorage:ye,_support:G(),iterate:ke,getItem:we,setItem:Te,removeItem:xe,clear:Ee,length:Se,key:Re,keys:Le,dropInstance:Oe};function Ce(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}function je(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function Ne(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}function Me(){return!Ne()||localStorage.length>0}function Be(e){var t=this,n={};if(e)for(var r in e)n[r]=e[r];return n.keyPrefix=je(e,t._defaultConfig),Me()?(t._dbInfo=n,n.serializer=ve,l.resolve()):l.reject()}function Pe(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return d(n,e),n}function Fe(e,t){var n=this;e=f(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return d(r,t),r}function $e(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,s=1,a=0;a<o;a++){var c=localStorage.key(a);if(0===c.indexOf(r)){var l=localStorage.getItem(c);if(l&&(l=t.serializer.deserialize(l)),void 0!==(l=e(l,c.substring(i),s++)))return l}}}));return d(r,t),r}function Ue(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return d(r,t),r}function He(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r}));return d(n,e),n}function We(e){var t=this.keys().then((function(e){return e.length}));return d(t,e),t}function ze(e,t){var n=this;e=f(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return d(r,t),r}function qe(e,t,n){var r=this;e=f(e);var i=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new l((function(i,o){var s=r._dbInfo;s.serializer.serialize(t,(function(t,r){if(r)o(r);else try{localStorage.setItem(s.keyPrefix+e,t),i(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}}))}))}));return d(i,n),i}function Ve(e,t){if(t=m.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return d(r=e.name?new l((function(t){e.storeName?t(je(e,i._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):l.reject("Invalid arguments"),t),r}var Qe={_driver:"localStorageWrapper",_initStorage:Be,_support:Ce(),iterate:$e,getItem:Fe,setItem:qe,removeItem:ze,clear:Pe,length:We,key:Ue,keys:He,dropInstance:Ve},Ge=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},Je=function(e,t){for(var n=e.length,r=0;r<n;){if(Ge(e[r],t))return!0;r++}return!1},Xe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Ye={},Ke={},Ze={INDEXEDDB:Q,WEBSQL:De,LOCALSTORAGE:Qe},et=[Ze.INDEXEDDB._driver,Ze.WEBSQL._driver,Ze.LOCALSTORAGE._driver],tt=["dropInstance"],nt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),rt={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function it(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function ot(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Xe(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var st=function(){function e(t){for(var n in i(this,e),Ze)if(Ze.hasOwnProperty(n)){var r=Ze[n],o=r._driver;this[n]=o,Ye[o]||this.defineDriver(r)}this._defaultConfig=ot({},rt),this._config=ot({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new l((function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var o=nt.concat("_initStorage"),s=0,a=o.length;s<a;s++){var c=o[s];if((!Je(tt,c)||e[c])&&"function"!=typeof e[c])return void n(i)}var u=function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=l.reject(t);return d(n,arguments[arguments.length-1]),n}},n=0,r=tt.length;n<r;n++){var i=tt[n];e[i]||(e[i]=t(i))}};u();var f=function(n){Ye[r]&&console.info("Redefining LocalForage driver: "+r),Ye[r]=e,Ke[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(f,n):f(!!e._support):f(!0)}catch(e){n(e)}}));return u(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=Ye[e]?l.resolve(Ye[e]):l.reject(new Error("Driver not found."));return u(r,t,n),r},e.prototype.getSerializer=function(e){var t=l.resolve(ve);return u(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return u(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;Xe(e)||(e=[e]);var i=this._getSupportedDrivers(e);function o(){r._config.driver=r.driver()}function s(e){return r._extend(e),o(),r._ready=r._initStorage(r._config),r._ready}function a(e){return function(){var t=0;function n(){for(;t<e.length;){var i=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(s).catch(n)}o();var a=new Error("No available storage method found.");return r._driverSet=l.reject(a),r._driverSet}return n()}}var c=null!==this._driverSet?this._driverSet.catch((function(){return l.resolve()})):l.resolve();return this._driverSet=c.then((function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=a(i)}))})).catch((function(){o();var e=new Error("No available storage method found.");return r._driverSet=l.reject(e),r._driverSet})),u(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!Ke[e]},e.prototype._extend=function(e){ot(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=nt.length;e<t;e++)it(this,nt[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),at=new st;t.exports=at},{3:3}]},{},[4])(4);const h=new class{name="com.default.app";version="v0..1.0";constructor(){}init(e){e||(e=this.name),m.config({name:e,storeName:(e+"_"+this.version).replace(/[^a-zA-Z0-9]+/,"_")})}async remove(e,t){this.canStorage()?(await m.removeItem(e),t&&t(!0)):t&&t(!1)}canStorage(){return!!m}async set(e,t){return this.canStorage()?new Promise((n=>{const r=parseInt(""+Math.floor((new Date).getTime()/1e3),10);m.setItem(e,{__AUTO_TIME_TAG:r,val:t}).then((e=>{n(e?e.val:null)})).catch((()=>{n(null)}))})):new Promise((e=>{e(null)}))}async get(e,t){return this.canStorage()?new Promise((n=>{m.getItem(e).then((e=>{n(e?e.val:t||null)})).catch((()=>{n(t||null)}))})):Promise.resolve(t||null)}async del(e){return this.canStorage()?new Promise((t=>{m.removeItem(e).then((e=>{t(null)})).catch((()=>{t(null)}))})):new Promise((e=>{e(null)}))}clearAll(){m&&m.clear()}async getWithTimeoutStrict(e,t,n){return this.canStorage()?new Promise((r=>{m.getItem(e).then((e=>{const i=parseInt(""+Math.floor((new Date).getTime()/1e3),10);!e||!e.__AUTO_TIME_TAG||e.__AUTO_TIME_TAG>i||i-e.__AUTO_TIME_TAG>t?r({isTimeout:!0,data:n||null}):r({isTimeout:!1,data:e.val})})).catch((()=>{r({isTimeout:!0,data:n||null})}))})):new Promise((e=>{e({isTimeout:!0,data:n||null})}))}async getWithTimeout(e,t,n){const r=await this.getWithTimeoutStrict(e,t,n);return Promise.resolve(r.data)}},_=e=>{const t=e%86400,n=Math.floor(t/3600),r=Math.floor((t-3600*n)/60),i=t%60;return(n>9?n:"0"+n)+":"+(r>9?r:"0"+r)+":"+(i>9?i:"0"+i)},p=e=>{const t=Math.round(e);var n=_(t);return 0==n.indexOf("00:")&&(n=n.substr(3)),n},v=()=>("ID"+b(new Date,"yyMMddhhmmss")+Math.random()).replace(/[^0-1a-zA-Z]+/gi,""),g=()=>Math.round((new Date).getTime()/1e3),y=e=>{if(!e)return"0s";var t="",n=Math.floor(e/3600);n>0&&(t+=n+"h");var r=Math.floor(e%3600/60);if(r>0)return t+=r+"m";var i=e%60;return i>0&&(t+=i+"s"),t};const b=(e,t)=>{if(!e)return"";if(!t)return""+e;var n;"object"!=typeof e&&(e=(n=e)instanceof Date?n:n?(n=(n=(n=""+n).replace(/\.[0-9]+/g,"")).replace(/-/g,"/"),new Date(Date.parse(n))):new Date);const r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(const e of Object.keys(r))new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?r[e]:("00"+r[e]).substr((""+r[e]).length)));return t};class w{id="";start=0;end=0;name="--";trackers=[]}class k{start=0;end=0;break=!1;restTime=0}const I=e(d)(i("cExQE"));var T=!1,x=null;function E(e){x&&x.dragMove(e)}function S(e){x&&x.dragUp(e)}class R{components=[];componentFooter;prev=0;data={};trackerItem=null;containerId="";dEle=null;timeCount=0;trackerTimer=0;constructor(e){this.data=new o(this),this.containerId=e,c(this);const t=new f("footer");this.componentFooter=t,this.components=[t]}init(){this.data.init({readList:[],progressList:[],doneList:[],taskList:[],editTimeTracker:!1,selectTrackerItem:null,form1:{id:"",name:"",dueDate:"",taskPriority:"",estimateTime:""},form2:{id:"",name:"",readLink:"",projectName:""}}),this.getData()}async getData(){const e=await h.get("taskList",[]),t=await h.get("readList",[]),n=await h.get("progressList",[]),r=await h.get("doneList",[]),i=await h.get("selectTrackerItem",null),o=this.data.get();o.taskList=e||[],o.readList=t||[],o.progressList=n||[],o.doneList=r||[],o.selectTrackerItem=i||null,this.data.set(o),this.updateSelectTrackerStatus()}viewRender(){this.containerId&&l(this,this.containerId,I,this.data.get())}showMenu(e){this.hideMenu(),document.getElementById(e).style.display="block"}hideMenu(){const e=document.querySelectorAll(".menu-box");for(const t of e)t.style.display="none"}setFormValue(e,t,n){console.log(e,t,n,arguments);const r=this.data.get();r[e]||(r[e]={}),r[e][t]=n,this.data.onlySet(r)}onOpenAddForm(e){console.log(e),this.hideFloatLayer(),document.getElementById(e).style.display="block"}hideFloatLayer(){const e=document.getElementById("form1"),t=document.getElementById("form2");e.style.display="none",t.style.display="none"}onCancel(){this.hideFloatLayer(),this.data.onlyReset("form1"),this.data.onlyReset("form2"),this.viewRender()}onAddSave(e){const t=this.data.get()[e];if("form1"!=e||""!=t.name){var n=!1;if(!t.id){n=!0,t.id=v(),t.trackers=[];const e=new k;t.trackers.push(e)}this.hideFloatLayer(),"form1"==e?this.editListItem("taskList",t,n):"form2"==e&&this.editListItem("readList",t,n),this.data.onlyReset("form1"),this.data.onlyReset("form2"),this.viewRender()}else alert("please input Task name")}editListItem(e,t,n,r){if(!t)return;r&&(n=!1),t.id&&(n=!1);const i=this.data.get();var o=i[e];if(o||(o=[]),n)o.unshift(t),o.length>4&&o.pop();else if(r){const e=[];for(const n in o)o[n].id&&o[n].id!=t.id&&e.push(o[n]);o=e}else{var s=!1;for(const e in o)o[e].id==t.id&&(o[e]=t,s=!0);s||o.unshift(t)}i[e]=o,this.data.onlySet(i),h.set(e,o)}startTimer(){this.timeCount=0,document.getElementById("right__header__title").innerHTML="What are you working on?",document.getElementById("footer__console__b__stop").style.display="inline-block",document.getElementById("footer__console__b__open").style.display="none",document.getElementById("footer__console__b__open").style.display="none",this.timeCountRun()}timeCountRun(){document.getElementById("timeCountRun").style.display="none",document.getElementById("timeCountPause").style.display="inline-block",this.timeCountId&&(clearTimeout(this.timeCountId),this.timeCountId=0),document.getElementById("footer__console__time").innerHTML=_(this.timeCount),this.timeCount++,this.timeCountId=setTimeout((()=>{this.timeCountRun()}),1e3)}timeCountPause(){document.getElementById("timeCountRun").style.display="inline-block",document.getElementById("timeCountPause").style.display="none",this.timeCountId&&(clearTimeout(this.timeCountId),this.timeCountId=0)}resetTimer(){this.timeCount=0}stopTimer(e){this.timeCountId&&(clearTimeout(this.timeCountId),this.timeCountId=0),this.timeCount=0,document.getElementById("footer__console__time").innerHTML=_(this.timeCount),document.getElementById("footer__console__b__stop").style.display="none",document.getElementById("footer__console__b__open").style.display="inline-block",document.getElementById("timeCountRun").style.display="inline-block",document.getElementById("timeCountPause").style.display="none",e&&(document.getElementById("right__header__title").innerHTML="Write down what are you going there.")}play(){document.getElementById("myaudio").play(),document.getElementById("play").style.display="none",document.getElementById("stop").style.display="inline-block"}closePlay(){document.getElementById("myaudio").pause(),document.getElementById("stop").style.display="none",document.getElementById("play").style.display="inline-block"}onRightMenus(e,t){event.preventDefault();const n=document.getElementById("menus"),r=event;n.style.display="block",n.style.left=r.clientX+"px",n.style.top=r.clientY+"px";const i=document.getElementById("menusDelete");i.setAttribute("data-id",e),i.setAttribute("data-type",t)}onMenusDelete(e){const t=(e=e||window.event).target.getAttribute("data-id"),n=e.target.getAttribute("data-type");if(document.getElementById("menus").style.display="none",this.editListItem(n,{id:t},!1,!0),"progressList"==n||"doneList"==n){const e=this.data.get("selectTrackerItem",null);e&&e.id==t&&this.cancelSelectTracker()}this.viewRender()}hideRightMenuLayer(){document.getElementById("menus").style.display="none"}dblclick(e,t,n,r,i,o){var s,a=(new Date).getTime(),c=a-this.prev;this.prev=a,c<500?s=setTimeout((()=>{this.change(e,t,i)}),1):(clearTimeout(s),this.dragDown(n,r,i,o))}change(e,t,n){const r=this.data.get(),i=r[t];let o=null;i.forEach(((e,t)=>{e.id===n&&(o=e)})),console.log(o),o&&(r[e]=o,this.data.onlySet(r),this.viewRender(),console.log(e,o),console.log(this.data.get()),this.onOpenAddForm(e))}addFlowTimeTracker(){this.data.onlySet({editTimeTracker:!0}),this.cancelSelectTracker()}saveAddFlowTimeTracker(){const e=document.getElementById("timeTrackerName"),t=e?e.value:"";if(!t||t.length<=2)return void alert("Please input valid name (length > 2)");const n=new w;n.id=v(),n.name=t,n.start=g();const r=new k;r.start=n.start,n.trackers.push(r),console.log(n),this.editListItem("progressList",n,!0),this.viewRender()}findOneTrackerItem(e){if(!e)return null;for(var t=this.data.get(),n=0;n<t.progressList.length;n++){if((r=t.progressList[n]).id==e)return r}for(n=0;n<t.doneList.length;n++){if((r=t.doneList[n]).id==e)return r}for(n=0;n<t.taskList.length;n++){var r;if((r=t.taskList[n]).id==e)return r}return null}editTrackerItem(e){const t=this.findOneTrackerItem(e);t&&(h.set("selectTrackerItem",t),this.data.set({selectTrackerItem:t}),this.updateSelectTrackerStatus())}getSelectTrackerLast(){const e=this.data.get("selectTrackerItem",null);return!e||!e.trackers||e.trackers.length<1?(this.trackerTimer&&clearTimeout(this.trackerTimer),null):e.trackers[e.trackers.length-1]}updateSelectTrackerStatus(){const e=this.getSelectTrackerLast();if(!e)return;const t=void 0!==e.rest?e.rest:0;t>0?this.doUpdateTrackerIme(t,e.end):this.doUpdateTrackerIme(e.start,t)}doUpdateTrackerIme(e,t){var n=t;t<1&&(n=g());const r=n-e;document.getElementById("trackerTimer").innerHTML=_(r),this.trackerTimer&&clearTimeout(this.trackerTimer),this.trackerTimer=setTimeout((()=>{this.doUpdateTrackerIme(e,t)}),300)}cancelSelectTracker(){this.data.set({selectTrackerItem:null}),h.del("selectTrackerItem"),this.updateSelectTrackerStatus()}editFlowTimeTracker(e){const t=this.data.get("selectTrackerItem",null);if(!t||!t.trackers||t.trackers.length<1)return this.trackerTimer&&clearTimeout(this.trackerTimer),null;const n=t.trackers[t.trackers.length-1];if((n.rest?n.rest:0)>0){if("rest"==e)return;if("work"==e){n.end=g();const e=new k;e.start=n.end,t.trackers.push(e)}else if("break"==e){n.end=g(),n.break=!0;const e=new k;e.start=n.end,t.trackers.push(e)}}else if("rest"==e)n.rest=g();else{if("work"==e)return;if("break"==e){n.rest=g(),n.end=n.rest,n.break=!0;const e=new k;e.start=n.end,t.trackers.push(e)}}h.set("selectTrackerItem",t),this.data.onlySet({selectTrackerItem:t}),this.editListItem("progressList",t,!1),this.viewRender(),this.updateSelectTrackerStatus()}setFlowTrackerDone(e,t){const n=this.findOneTrackerItem(e);if(n){n.end=g();for(var r=0;r<n.trackers.length;r++){const e=n.trackers[r];e.end>0||(e.end=n.end),e.rest<1&&(e.rest=e.end),console.log("++++++++++++++++++",n),console.log("domId",t),"doneListArae"==t?(this.editListItem("progressList",n,!1,!0),this.editListItem("doneList",n,!0)):(this.editListItem("taskList",n,!1,!0),this.editListItem("progressList",n,!0));const i=this.data.get("selectTrackerItem",null);i&&i.id==n.id?this.cancelSelectTracker():this.viewRender()}}}dragDown(e,t,n,r){e=e||window.event,x=this,T||(document.body.addEventListener("mousemove",E),document.body.addEventListener("mouseup",S),T=!0);t.width,t.height;const i=t.cloneNode(!0);i.classList.add("draging"),i.style.opacity="0.6",i.style.position="fixed",i.style.left=e.clientX-e.layerX+"px",i.style.top=e.clientY-e.layerY+"px",i.style.width=t.width+"px",i.style.height=t.height+"px",i.style.zIndex="100",i.setAttribute("data-layer-x",e.layerX),i.setAttribute("data-layer-y",e.layerY),i.setAttribute("data-id",n),i.setAttribute("dom-id",r),this.dEle=i,document.body.appendChild(this.dEle)}dragMove(e){window.getSelection?window.getSelection().removeAllRanges():document.selection.empty(),e=e||window.event;const t=document.getElementById(this.dEle.getAttribute("dom-id"));if(this.dragInArea(e,t)&&t.classList.add("drag-status-in"),this.dEle){const t=this.dEle.getAttribute("data-layer-x"),n=this.dEle.getAttribute("data-layer-y");this.dEle.style.left=e.clientX-t+"px",this.dEle.style.top=e.clientY-n+"px"}}dragUp(e){window.getSelection?window.getSelection().removeAllRanges():document.selection.empty();const t=document.getElementById(this.dEle.getAttribute("dom-id")),n=this.dragInArea(e,t);if(t.classList.remove("drag-status-in"),console.log("dragUp",n),document.body.removeEventListener("mousemove",E),document.body.removeEventListener("mouseup",S),T=!1,x=null,this.dEle){const e=this.dEle.getAttribute("data-id");document.body.removeChild(this.dEle);let t=this.dEle.getAttribute("dom-id");this.dEle=null,n&&this.setFlowTrackerDone(e,t)}}dragInArea(e,t){if(!e||!t)return;const n=e.clientX,r=e.clientY;return n>=t.offsetLeft&&n<=t.offsetLeft+t.offsetWidth&&r>=t.offsetTop&&r<=t.offsetTop+t.offsetHeight}updateProgress(e){const t=document.getElementById("audioCur"),n=document.getElementById("audioCurTime"),r=document.getElementById("audioTotalTime"),i=e.currentTime/e.duration,o=parseInt(Math.round(1e3*i)/10)%100;t.style.display="inline-block",t.style.width=o+"%",n.innerHTML=p(e.currentTime),r.innerHTML=p(e.duration)}caca(e){console.log(e)}}const L=e=>{if(!e||!e.start)return"-";var t=e.end?e.end:0;t<1&&(t=g());var n=t-e.start;return y(n)},A=e=>{if(!e)return"-";var t=g(),n=e.rest?e.rest:0;n<1&&(n=t);var r=e.end;r<1&&(r=t);var i=r-e.rest;return y(i)},O=e=>{if(!e||!e.start)return"-";var t=e.rest?e.rest:0;t<1&&(t=g());var n=t-e.start;return y(n)},D=e=>{if(!e)return"-";var t=e.start?e.start:0;return b(new Date(1e3*t),"MM/dd/yyyy")},C=e=>{if(!e||!e.start)return"-";var t=e.end?e.end:0;t<1&&(t=g());var n=new Date(1e3*e.start);new Date(1e3*t);return b(n,"hh:mm")+" ~ "+b(n,"hh:mm")};!function(){e(d).set({"tag::operationOpen":"{@","tag::operationClose":"}","tag::interpolateOpen":"${","tag::interpolateClose":"}","tag::noneencodeOpen":"$${","tag::noneencodeClose":"}","tag::commentOpen":"{#","tag::commentClose":"}"}),e(d).register("json",(e=>JSON.stringify(e,null," "))),e(d).register("flowDueDate",D),e(d).register("flowEstTime",L),e(d).register("flowDucation",C),e(d).register("flowItemRestTime",A),e(d).register("flowItemWorkTime",O),h.init(),window.observeObjects=[],window.observeRun=a;const t=new R("app");t.init(),t.viewRender()}();
//# sourceMappingURL=index.6198843e.js.map
